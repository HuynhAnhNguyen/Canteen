<p-toast></p-toast>
<div class="surface-0 flex justify-content-center">
    <div id="home" class="landing-wrapper overflow-hidden">
        <div
            class="py-4 px-4 mx-0 md:mx-6 lg:mx-8 lg:px-8 flex align-items-center justify-content-between relative lg:static mb-3"
        >
            <a class="flex align-items-center" href="#">
                <img
                    src="assets/layout/images/logo.svg"
                    alt="Logo"
                    height="50"
                    class="mr-0 lg:mr-2"
                />
                <span
                    *ngIf="canteenInfo"
                    class="text-900 font-medium text-2xl line-height-3 mr-8"
                    >{{ canteenInfo.data?.name }}</span
                >
            </a>
            <a
                pRipple
                class="cursor-pointer block lg:hidden text-700"
                pStyleClass="@next"
                enterClass="hidden"
                leaveToClass="hidden"
                [hideOnOutsideClick]="true"
            >
                <i class="pi pi-bars text-4xl"></i>
            </a>
            <div
                class="align-items-center surface-0 flex-grow-1 justify-content-between hidden lg:flex absolute lg:static w-full left-0 px-6 lg:px-0 z-2"
                style="top: 85%"
            >
                <ul
                    class="list-none p-0 m-0 flex lg:align-items-center select-none flex-column lg:flex-row cursor-pointer"
                >
                    <li>
                        <a
                            routerLink="/"
                            pRipple
                            class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3"
                        >
                            <span>Trang ch·ªß</span>
                        </a>
                    </li>
                    <li>
                        <!-- <a routerLink="/auth/cart" fragment="features" pRipple
                            class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3">
                            <span>Gi·ªè h√†ng</span>
                        </a> -->
                        <a
                            *ngIf="isLoggedIn"
                            [routerLink]="['/auth/gio-hang']"
                            fragment="features"
                            pRipple
                            class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3"
                        >
                            <span>Gi·ªè h√†ng</span>
                        </a>

                        <!-- N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p -->
                        <a
                            *ngIf="!isLoggedIn"
                            fragment="features"
                            pRipple
                            (click)="showLoginAlert()"
                            class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3"
                        >
                            <span>Gi·ªè h√†ng</span>
                        </a>
                    </li>

                    <li>
                        <a
                            routerLink="/gioi-thieu"
                            pRipple
                            class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3"
                        >
                            <span>Gi·ªõi thi·ªáu</span>
                        </a>
                    </li>
                    <a
                        *ngIf="isAdmin == 'ROLE_ADMIN'"
                        (click)="redirectDashboard()"
                        fragment="features"
                        pRipple
                        class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3"
                    >
                        <span>Admin</span>
                    </a>

                    <!-- <li >
                        <a class="flex m-0 md:ml-5 px-0 py-3 text-900 font-medium line-height-3">
                            <span *ngFor="let notification of notifications">Th√¥ng b√°o {{ notification }}</span>
                            
                        </a>
                    </li> -->

                    <!-- <div *ngIf="notifications.length > 0" class="notification-container">
                        <h3>üì¢ Th√¥ng b√°o</h3>
                        <ul>
                          <li *ngFor="let notification of notifications">
                            {{ notification }}
                          </li>
                        </ul>
                      </div> -->
                </ul>
                <div
                    class="flex justify-content-between lg:block border-top-1 lg:border-top-none surface-border py-3 lg:py-0 mt-3 lg:mt-0"
                >
                    <!-- N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p -->
                    <div *ngIf="!isLoggedIn">
                        <button
                            pButton
                            pRipple
                            label="ƒêƒÉng nh·∫≠p"
                            class="p-button-text p-button-rounded border-none font-light line-height-2 text-blue-500"
                            routerLink="/auth/dang-nhap"
                        ></button>

                        <button
                            pButton
                            pRipple
                            label="ƒêƒÉng k√Ω"
                            class="p-button-rounded border-none ml-5 font-light line-height-2 bg-blue-500 text-white"
                            routerLink="/auth/dang-ky"
                        ></button>
                    </div>

                    <!-- N·∫øu ƒë√£ ƒëƒÉng nh·∫≠p -->
                    <div *ngIf="isLoggedIn">
                        <button
                            pButton
                            pRipple
                            label="Xin ch√†o {{ fullname }}"
                            class="p-button-text p-button-rounded border-none font-light line-height-2 text-blue-500"
                        ></button>
                        <!-- <span class="p-button-text p-button-rounded border-none font-light line-height-2 text-blue-500">Xin ch√†o, {{ username }}</span> -->
                        <button
                            pButton
                            pRipple
                            label="ƒêƒÉng xu·∫•t"
                            class="p-button-text p-button-rounded border-none font-light line-height-2 text-red-500 ml-3"
                            (click)="logout()"
                        ></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- <div class="banner-container">
            <img src="assets/demo/images/banner/banner.jpg" alt="Banner">
            
        </div> -->
        <div class="py-4 px-4 lg:px-8 mt-5 mx-0 lg:mx-8">
            <section class="cta-banner cd-padding-sm">
                <div class="cta-banner__grid">
                    <div class="cta-banner__content">
                        <h1 class="cta-banner__title">
                            Fooddy ‚Äì ƒê·∫∑t m√≥n nhanh, th∆∞·ªüng th·ª©c tr·ªçn v·ªã!
                        </h1>

                        <p class="cta-banner__description">
                            Th·ªùi gian m·ªü c·ª≠a 7h:30 - 18h
                        </p>

                        <div class="cta-banner__btns first">
                            <a
                                [routerLink]="[]"
                                fragment="datmonan"
                                class="button2"
                                >ƒê·∫∑t m√≥n ngay</a
                            >
                            <!-- <a href="#0" class="cd-btn cd-btn--primary">ƒê·∫∑t m√≥n ngay</a> -->
                            <!-- <a href="#0" class="cd-link cd-link--contrast-higher">Learn more</a> -->
                        </div>
                    </div>

                    <figure>
                        <img
                            class="cta-banner__img cd-radius-md"
                            src="assets/demo/images/banner/banner.jpg"
                            alt="Banner"
                        />
                    </figure>
                </div>
            </section>
        </div>

        <div class="py-4 px-4 lg:px-8 mt-5 mx-0 lg:mx-8">
            <div class="grid justify-content-center" id="datmonan">
                <div class="col-12 text-center mt-8 mb-4">
                    <h2 class="text-900 font-normal mb-2">
                        <b>Danh s√°ch c√°c m√≥n ƒÉn</b>
                    </h2>
                </div>

                <div class="row">
                    <div
                        class="col-md-4 mb-4"
                        *ngFor="
                            let food of foods
                                | paginate
                                    : {
                                          itemsPerPage: pageSize,
                                          currentPage: page
                                      }
                        "
                    >
                        <div class="card">
                            <img
                                [src]="
                                    'http://13.239.169.8:8080/api/v1/project/auth/' +
                                    food.imageUrl
                                "
                                style="width: 100%; height: 200px"
                                class="card-img-top"
                                alt="Food Image"
                            />
                            <div class="card-body text-center">
                                <h5 class="card-title">{{ food.name }}</h5>
                                <p class="card-text text-danger fw-bold">
                                    {{ food.price | number : "1.0-2" }} VND
                                </p>
                                <!-- N√∫t Xem chi ti·∫øt -->
                                <button
                                    style="margin-right: 10px"
                                    class="btn btn-info"
                                    (click)="viewDetails(food)"
                                >
                                    Xem chi ti·∫øt
                                </button>

                                <!-- N√∫t Th√™m v√†o gi·ªè h√†ng -->
                                <button
                                    class="btn btn-primary"
                                    (click)="addToCart(food)"
                                >
                                    Th√™m v√†o gi·ªè h√†ng
                                </button>

                                <!-- Modal hi·ªÉn th·ªã chi ti·∫øt s·∫£n ph·∫©m -->
                                <div *ngIf="showDetailModal" class="modal show">
                                    <div class="modal-content">
                                        <img
                                            [src]="
                                                'http://13.239.169.8:8080/api/v1/project/auth/' +
                                                selectedFood?.imageUrl
                                            "
                                            style="width: 100%; height: 200px"
                                            class="card-img-top"
                                            alt="Food Image"
                                        />
                                        <h2>{{ selectedFood?.name }}</h2>
                                        <p>
                                            <strong>Gi√°:</strong>
                                            {{
                                                selectedFood?.price
                                                    | number : "1.0-2"
                                            }}
                                            VND
                                        </p>
                                        <p>
                                            <strong>M√¥ t·∫£:</strong>
                                            {{ selectedFood?.description }}
                                        </p>

                                        <button
                                            class="btn btn-danger"
                                            (click)="closeDetail()"
                                        >
                                            ƒê√≥ng
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Ph√¢n trang -->
                <pagination-controls
                    (pageChange)="onPageChange($event)"
                ></pagination-controls>
            </div>
        </div>
        <div class="py-4 px-4 mx-0 mt-8 lg:mx-8">
            <div class="grid justify-content-between">
                <div
                    *ngIf="canteenInfo"
                    class="col-12 md:col-5"
                    style="margin-top: -1.5rem"
                >
                    <a
                        href="#"
                        class="flex flex-wrap align-items-center justify-content-center md:justify-content-start md:mb-0 mb-3 cursor-pointer"
                    >
                        <img
                            src="assets/layout/images/logo.svg"
                            alt="footer sections"
                            width="50"
                            height="50"
                            class="mr-2"
                        />
                        <h4 class="font-medium text-3xl text-900">
                            {{ canteenInfo.data?.name }}
                        </h4>
                    </a>
                    <p>Th·ªùi gian m·ªü c·ª≠a: {{ canteenInfo.data?.openTime }}</p>
                    <p>ƒê·ªãa ch·ªâ: {{ canteenInfo.data?.adress }}</p>
                </div>

                <div class="col-12 md:col-10 lg:col-7">
                    <div class="grid text-center md:text-left">
                        <div class="col-12 md:col-6">
                            <h4
                                class="font-medium text-2xl line-height-3 mb-3 text-900"
                            >
                                Canteen
                            </h4>
                            <a
                                class="line-height-3 text-xl block cursor-pointer mb-2 text-700"
                                >V·ªÅ ch√∫ng t√¥i</a
                            >
                            <a
                                class="line-height-3 text-xl block cursor-pointer mb-2 text-700"
                                >Tin t·ª©c</a
                            >
                            <a
                                class="line-height-3 text-xl block cursor-pointer mb-2 text-700"
                                >Tuy·ªÉn d·ª•ng</a
                            >
                        </div>

                        <!-- <div class="col-12 md:col-4 mt-4 md:mt-0">
                            <h4 class="font-medium text-2xl line-height-3 mb-3 text-900">T√†i nguy√™n</h4>
                            <a class="line-height-3 text-xl block cursor-pointer mb-2 text-700">B·∫Øt ƒë·∫ßu</a>
                            <a class="line-height-3 text-xl block cursor-pointer mb-2 text-700">H·ªçc t·∫≠p</a>
                            <a class="line-height-3 text-xl block cursor-pointer text-700">Nghi√™n c·ª©u ƒëi·ªÉn h√¨nh</a>
                        </div> -->

                        <div class="col-12 md:col-6 mt-6 md:mt-0">
                            <h4
                                class="font-medium text-2xl line-height-3 mb-3 text-900"
                            >
                                Tr·ª£ gi√∫p
                            </h4>
                            <a
                                class="line-height-3 text-xl block cursor-pointer mb-2 text-700"
                                >S·ª± ki·ªán</a
                            >
                            <a
                                class="line-height-3 text-xl block cursor-pointer mb-2 text-700"
                                >C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- hi·ªÉn th·ªã th√¥ng tin c·ªßa h√†ng -->

<!-- <p-button (click)="redirectDashboard()" label="Show" /> -->
<div class="card flex justify-center">
    <p-dialog
        header="C·∫≠p nh·∫≠t th√¥ng tin C·ª≠a h√†ng"
        [modal]="true"
        [(visible)]="showInfoShop"
        [style]="{ width: '25rem' }"
    >
        <ng-template pTemplate="content">
            <div class="grid">
                <div
                    class="text-center col-12"
                    style="font-weight: bold; font-size: large"
                >
                    Th√¥ng tin t√†i kho·∫£n
                </div>

                <!-- <div class="field col-12 lg:col-6">
                    <label for="time" style="font-weight: bold"
                        >T√™n c·ª≠a h√†ng</label
                    >
                    <input
                        id="time"
                        pTooltip="T√™n ng∆∞·ªùi ƒë·∫∑t tour"
                        tooltipPosition="bottom"
                        pInputText
                        [(ngModel)]="canteenInfo.data?.name"
                        required
                        autofocus
                    />
                </div> -->
                <!-- <div class="field col-12 lg:col-6">
                    <label for="name" style="font-weight: bold">Email</label>
                    <input
                        id="name"
                        pTooltip="T√™n ng∆∞·ªùi ƒë·∫∑t tour"
                        tooltipPosition="bottom"
                        pInputText
                        [(ngModel)]="infoShop.email"
                        required
                        autofocus
                    />
                </div>
                <div class="field col-12 lg:col-6">
                    <label for="name" style="font-weight: bold">ƒê·ªãa ch·ªâ</label>
                    <input
                        id="name"
                        pTooltip="T√™n ng∆∞·ªùi ƒë·∫∑t tour"
                        tooltipPosition="bottom"
                        pInputText
                        [(ngModel)]="infoShop.email"
                        required
                        autofocus
                    />
                </div>
                <div class="field col-12 lg:col-3">
                    <label for="departure" style="font-weight: bold"
                        >S·ªë ƒëi·ªán tho·∫°i</label
                    >
                    <input
                        id="name"
                        pTooltip="S·ªë ƒëi·ªán tho·∫°i"
                        tooltipPosition="bottom"
                        pInputText
                        [(ngModel)]="infoShop.phone"
                        required
                        autofocus
                    />
                </div>
                <div class="field col-12 lg:col-3">
                    <label for="departure" style="font-weight: bold"
                        >M√¥ t·∫£</label
                    >
                    <input
                        id="name"
                        pTooltip="M√¥ t·∫£"
                        tooltipPosition="bottom"
                        pInputText
                        [(ngModel)]="infoShop.description"
                        required
                        autofocus
                    />
                </div>
                <div class="field col-12 lg:col-3">
                    <label for="departure" style="font-weight: bold"
                        >Th·ªùi gian ho·∫°t ƒë·ªông</label
                    >
                    <input
                        id="name"
                        pTooltip="Th·ªùi gian ho·∫°t ƒë·ªông"
                        tooltipPosition="bottom"
                        pInputText
                        [(ngModel)]="infoShop.time"
                        required
                        autofocus
                    />
                </div> -->
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <!-- <button pButton pRipple label="C·∫≠p nh·∫≠t"  icon="pi pi-comments" class="p-button-text"></button> -->
            <!-- <button
                pButton
                pRipple
                label="T·∫°o t√†i kho·∫£n"
                pTooltip="T·∫°o t√†i kho·∫£n"
                (click)="createAccount()"
                icon="pi pi-plus"
                class="p-button-text"
            ></button>
            <button
                pButton
                pRipple
                label="Xong"
                (click)="isShowCreateAccount = false"
                class="p-button-text"
            ></button> -->
        </ng-template>
    </p-dialog>
</div>
